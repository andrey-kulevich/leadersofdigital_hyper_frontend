(this.webpackJsonpleadersofdigital_hyper_frontend=this.webpackJsonpleadersofdigital_hyper_frontend||[]).push([[0],{132:function(e,t,a){},245:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(10),r=a.n(c),s=(a(132),a(15)),l=a(119),o=a(247),j=a(277),d=a(298);function u(e){return e.slice(5,-3).replace("T"," ")}var b=a(2),h=Object(j.a)((function(e){return Object(d.a)({chartPaper:{marginTop:e.spacing(3),padding:e.spacing(2),minHeight:300}})})),p=function(e){var t=e.data,a=e.deviations,n=h(),i={labels:t.confirmTime.map((function(e){return u(e)})),datasets:[{label:"\u0421\u0438\u0441\u0442\u043e\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435",fill:!1,lineTension:.1,backgroundColor:"rgb(255,134,0)",borderColor:"rgb(255,134,0)",borderCapStyle:"butt",borderJoinStyle:"miter",pointBorderWidth:1,pointHoverRadius:5,pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:t.systolic},{label:"\u0414\u0438\u0430\u0441\u0442\u043e\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435",fill:!1,lineTension:.1,backgroundColor:"rgb(0,159,255)",borderColor:"rgb(0,159,255)",borderCapStyle:"butt",borderJoinStyle:"miter",pointBorderWidth:1,pointHoverRadius:5,pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:t.diastolic},{label:"\u041f\u0443\u043b\u044c\u0441",fill:!1,lineTension:.1,backgroundColor:"rgb(248,104,104)",borderColor:"rgb(248,104,104)",borderCapStyle:"butt",borderJoinStyle:"miter",pointBorderWidth:1,pointHoverRadius:5,pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:t.pulse},{label:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f \u0441\u0438\u0441\u0442\u043e\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435",fill:!1,showLine:!1,backgroundColor:"rgb(255,0,0)",data:a.systolicDeviation},{label:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f \u0434\u0438\u0430\u0441\u0442\u043e\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435",fill:!1,showLine:!1,lineTension:.1,backgroundColor:"rgb(255,0,0)",data:a.diastolicDeviation},{label:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f \u043f\u0443\u043b\u044c\u0441",fill:!1,showLine:!1,lineTension:.1,backgroundColor:"rgb(255,0,0)",data:a.pulseDeviation}]};return Object(b.jsx)(o.a,{variant:"outlined",className:n.chartPaper,children:Object(b.jsx)(l.a,{data:i,options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{display:!0,ticks:{suggestedMin:1}}]},elements:{point:{radius:function(e){return 0===e.dataset.data[e.dataIndex]?0:5},display:!1}}},type:null})})},O=a(293),x=a(281),m=a(282),f=a(283),g=a(284),y=a(285),v=a(286),w=Object(j.a)((function(e){return Object(d.a)({paper:{marginTop:e.spacing(1),marginBottom:e.spacing(2),maxHeight:250},container:{maxHeight:250},normal:{color:"#000000"},warning:{color:e.palette.secondary.main,fontWeight:"bold",fontSize:18}})})),T=function(e){var t=e.data,a=e.averageValues,n=w();return Object(b.jsx)(o.a,{variant:"outlined",className:n.paper,children:Object(b.jsx)(x.a,{className:n.container,children:Object(b.jsxs)(m.a,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[Object(b.jsx)(f.a,{children:Object(b.jsxs)(g.a,{children:[Object(b.jsx)(y.a,{children:"\u0412\u0440\u0435\u043c\u044f"}),Object(b.jsx)(y.a,{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(b.jsx)(y.a,{children:"\u0421\u0438\u0441\u0442\u043e\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(b.jsx)(y.a,{children:"\u0414\u0438\u0430\u0441\u0442\u043e\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(b.jsx)(y.a,{children:"\u041f\u0443\u043b\u044c\u0441"})]})}),Object(b.jsx)(v.a,{children:t.map((function(e,t){return Object(b.jsxs)(g.a,{children:[Object(b.jsx)(y.a,{children:u(e.confirmTime)}),Object(b.jsx)(y.a,{children:e.description}),Object(b.jsx)(y.a,{children:Object(b.jsx)("span",{className:Math.abs(e.systolic-a.systolic)>20?n.warning:n.normal,children:e.systolic})}),Object(b.jsx)(y.a,{children:Object(b.jsx)("span",{className:Math.abs(e.diastolic-a.diastolic)>20?n.warning:n.normal,children:e.diastolic})}),Object(b.jsx)(y.a,{children:Object(b.jsx)("span",{className:Math.abs(e.pulse-a.pulse)>20?n.warning:n.normal,children:e.pulse})})]},t)}))})]})})})},k=a(287),D=a(68),M=a(288),N=a(248),S=a(289),C=a(290),B=a(65),H=a.n(B),R=a(66),E=a.n(R),F=a(67),L=a.n(F),_=Object(j.a)((function(e){return Object(d.a)({root:{marginTop:e.spacing(1),padding:e.spacing(2),minHeight:50}})})),U=function(e){var t=e.min,a=e.max,n=e.average,i=_();return Object(b.jsx)(o.a,{variant:"outlined",className:i.root,children:Object(b.jsxs)(k.a,{container:!0,direction:"row",spacing:2,children:[Object(b.jsx)(k.a,{item:!0,xs:4,children:Object(b.jsxs)(o.a,{variant:"outlined",children:[Object(b.jsx)(D.a,{variant:"h6",align:"center",children:"\u0421\u0438\u0441\u0442\u043e\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(b.jsxs)(M.a,{dense:!0,children:[Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{children:Object(b.jsx)(H.a,{color:"secondary"})}),Object(b.jsx)(C.a,{primary:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 - "+a.systolic})]}),Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{children:Object(b.jsx)(E.a,{color:"primary"})}),Object(b.jsx)(C.a,{primary:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 - "+t.systolic})]}),Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{children:Object(b.jsx)(L.a,{})}),Object(b.jsx)(C.a,{primary:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 - "+n.systolic})]})]})]})}),Object(b.jsx)(k.a,{item:!0,xs:4,children:Object(b.jsxs)(o.a,{variant:"outlined",children:[Object(b.jsx)(D.a,{variant:"h6",align:"center",children:"\u0414\u0438\u0430\u0441\u0442\u043e\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(b.jsxs)(M.a,{dense:!0,children:[Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{children:Object(b.jsx)(H.a,{color:"secondary"})}),Object(b.jsx)(C.a,{primary:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 - "+a.diastolic})]}),Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{children:Object(b.jsx)(E.a,{color:"primary"})}),Object(b.jsx)(C.a,{primary:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 - "+t.diastolic})]}),Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{children:Object(b.jsx)(L.a,{})}),Object(b.jsx)(C.a,{primary:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 - "+n.diastolic})]})]})]})}),Object(b.jsx)(k.a,{item:!0,xs:4,children:Object(b.jsxs)(o.a,{variant:"outlined",children:[Object(b.jsx)(D.a,{variant:"h6",align:"center",children:"\u041f\u0443\u043b\u044c\u0441"}),Object(b.jsxs)(M.a,{dense:!0,children:[Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{children:Object(b.jsx)(H.a,{color:"secondary"})}),Object(b.jsx)(C.a,{primary:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 - "+a.pulse})]}),Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{children:Object(b.jsx)(E.a,{color:"primary"})}),Object(b.jsx)(C.a,{primary:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 - "+t.pulse})]}),Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{children:Object(b.jsx)(L.a,{})}),Object(b.jsx)(C.a,{primary:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 - "+n.pulse})]})]})]})})]})})},W=a(291),z=a(292),J=a(294),P=a(85),Y=a.n(P),A=a(116),I=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(null),r=Object(s.a)(c,2),l=r[0],o=r[1];return{loading:a,request:Object(n.useCallback)(function(){var e=Object(A.a)(Y.a.mark((function e(t,a,n,c){var r,s,l,j;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,s={},n&&(n=JSON.stringify(n),s["Content-Type"]="application/json;charset=utf-8"),c&&(s.Authorization="Basic ".concat(c)),e.next=7,fetch("".concat("https://www.visdom.tech/b2doc_SS/").concat(t),{method:a,body:n,headers:s});case 7:if(l=e.sent,j=null,"POST"!==a&&"GET"!==a){e.next=13;break}return e.next=12,l.json();case 12:j=e.sent;case 13:if(l.ok){e.next=15;break}return e.abrupt("return",null===(r=j)||void 0===r?void 0:r.message);case 15:return i(!1),e.abrupt("return",j);case 19:e.prev=19,e.t0=e.catch(1),i(!1),o(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t,a,n,i){return e.apply(this,arguments)}}(),[]),error:l,clearError:function(){return o(null)}}},G=a(117),q=a.n(G),V=a(118),X=a.n(V),Z=Object(j.a)((function(e){return Object(d.a)({root:{flexGrow:1,marginBottom:e.spacing(2)},icon:{marginTop:e.spacing(.5)},link:{textDecoration:"none"}})}));function K(){var e=Z(),t=Object(n.useState)(),a=Object(s.a)(t,2),i=a[0],c=a[1],r=I().request;return Object(n.useEffect)((function(){r("users/user?snils="+document.URL.substr(document.URL.length-16),"GET",null,"OTYwODg3MjU1NTpwYXNzd29yZA==").then((function(e){return c(e)}))}),[]),Object(b.jsx)("div",{className:e.root,children:Object(b.jsx)(W.a,{position:"static",color:"transparent",children:Object(b.jsx)(z.a,{variant:"dense",children:Object(b.jsx)(O.a,{children:i?Object(b.jsxs)(k.a,{container:!0,direction:"row",spacing:2,justify:"space-between",children:[Object(b.jsx)(k.a,{item:!0,children:Object(b.jsxs)(k.a,{container:!0,direction:"row",spacing:2,children:[Object(b.jsx)(k.a,{item:!0,children:Object(b.jsxs)(D.a,{variant:"h5",children:[i.firstName," ",i.lastName,": \u0441\u0435\u0440\u0434\u0435\u0447\u043d\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438"]})}),Object(b.jsx)(k.a,{item:!0,children:Object(b.jsx)(q.a,{color:"secondary",className:e.icon})})]})}),Object(b.jsx)(k.a,{item:!0,children:Object(b.jsx)(J.a,{className:e.button,startIcon:Object(b.jsx)(X.a,{color:"primary",children:"send"}),children:Object(b.jsx)("a",{className:e.link,href:"https://telegram.me/".concat(i.telegramUsername),children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c\u0435"})})})]}):""})})})})}var Q=a(295),$=Object(j.a)((function(e){return Object(d.a)({paper:{marginTop:e.spacing(3),padding:e.spacing(2)}})})),ee=function(e){var t=e.message;return Object(b.jsx)("div",{className:$().paper,children:Object(b.jsxs)(k.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,children:[Object(b.jsx)(k.a,{item:!0,children:Object(b.jsx)(Q.a,{})}),Object(b.jsx)(k.a,{item:!0,children:Object(b.jsx)(D.a,{children:t})})]})})},te=a(297),ae=a(296),ne=Object(j.a)((function(e){return Object(d.a)({root:{width:"10em"}})})),ie=function(e){var t=e.filterBy,a=e.setFilterBy,i=ne(),c=Object(n.useState)(t[0]),r=Object(s.a)(c,2),l=r[0],o=r[1];return Object(b.jsxs)(te.a,{size:"small",label:"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e",select:!0,id:"selectPeriod",variant:"outlined",value:l,className:i.root,onChange:function(e){a(e.target.value),o(e.target.value)},children:[Object(b.jsx)(ae.a,{value:"week",children:"\u041d\u0435\u0434\u0435\u043b\u044f"},1),Object(b.jsx)(ae.a,{value:"month",children:"\u041c\u0435\u0441\u044f\u0446"},2),Object(b.jsx)(ae.a,{value:"year",children:"\u0413\u043e\u0434"},3),Object(b.jsx)(ae.a,{value:"all_time",children:"\u0412\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"},3)]})};var ce=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)([]),r=Object(s.a)(c,2),l=r[0],o=r[1],j=I(),d=j.loading,u=j.request;Object(n.useEffect)((function(){u("pressure/patient?snils="+document.URL.substr(document.URL.length-16),"GET",null,"OTYwODg3MjU1NTpwYXNzd29yZA==").then((function(e){var t=e;t=t.filter((function(e){return e.diastolic>30&&e.systolic>50&&e.pulse>40})),i(t)}))}),[]),Object(n.useEffect)((function(){h("week")}),[a]);var h=function(e){switch(e){case"week":o(a.filter((function(e){return t=new Date(e.confirmTime),a=new Date,Math.round((a-t)/864e5)<7;var t,a})));break;case"month":o(a.filter((function(e){return new Date(e.confirmTime).getMonth()===(new Date).getMonth()})));break;case"year":o(a.filter((function(e){return new Date(e.confirmTime).getFullYear()===(new Date).getFullYear()})));break;case"all_time":o(a)}},x=function(){var e=m();return{systolic:Math.floor(e.systolic.reduce((function(e,t){return e+t}),0)/e.systolic.length),diastolic:Math.floor(e.diastolic.reduce((function(e,t){return e+t}),0)/e.diastolic.length),pulse:Math.floor(e.pulse.reduce((function(e,t){return e+t}),0)/e.pulse.length)}},m=function(){var e={confirmTime:[],systolic:[],diastolic:[],pulse:[]};return l&&l.forEach((function(t){e.confirmTime.push(t.confirmTime),e.systolic.push(t.systolic),e.diastolic.push(t.diastolic),e.pulse.push(t.pulse)})),e};return d?Object(b.jsx)(ee,{message:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."}):Object(b.jsx)(b.Fragment,{children:a?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(K,{}),Object(b.jsxs)(O.a,{children:[Object(b.jsx)(ie,{filterBy:["week","month","year","all_time"],setFilterBy:h}),Object(b.jsx)(p,{data:m(),deviations:function(){var e=x(),t={systolicDeviation:[],diastolicDeviation:[],pulseDeviation:[]};return l&&l.forEach((function(a){Math.abs(a.systolic-e.systolic)>20?t.systolicDeviation.push(a.systolic):t.systolicDeviation.push(0),Math.abs(a.diastolic-e.diastolic)>20?t.diastolicDeviation.push(a.diastolic):t.diastolicDeviation.push(0),Math.abs(a.pulse-e.pulse)>20?t.pulseDeviation.push(a.pulse):t.pulseDeviation.push(0)})),t}()}),Object(b.jsx)(U,{min:function(){var e=m();return{systolic:Math.min.apply(null,e.systolic),diastolic:Math.min.apply(null,e.diastolic),pulse:Math.min.apply(null,e.pulse)}}(),max:function(){var e=m();return{systolic:Math.max.apply(null,e.systolic),diastolic:Math.max.apply(null,e.diastolic),pulse:Math.max.apply(null,e.pulse)}}(),average:x()}),Object(b.jsx)(T,{data:l,averageValues:x()})]})]}):Object(b.jsx)(O.a,{children:Object(b.jsx)(D.a,{variant:"h5",align:"center",children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0438"})})})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,300)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)}))};r.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(ce,{})}),document.getElementById("root")),re()}},[[245,1,2]]]);
//# sourceMappingURL=main.df1f8682.chunk.js.map